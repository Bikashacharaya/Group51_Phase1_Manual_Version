{"ast":null,"code":"const BASE = \"http://localhost:18080/v1\";\nfunction headers(json = true) {\n  const h = {};\n  if (json) h[\"Content-Type\"] = \"application/json\";\n  const token = localStorage.getItem(\"token\");\n  if (token) h[\"Authorization\"] = `Bearer ${token}`;\n  return h;\n}\nexport async function apiGet(path) {\n  const res = await fetch(BASE + path, {\n    headers: headers(true)\n  });\n  return parseResponse(res);\n}\nexport async function apiPost(path, body) {\n  const res = await fetch(BASE + path, {\n    method: \"POST\",\n    headers: headers(true),\n    body: JSON.stringify(body)\n  });\n  return parseResponse(res);\n}\nexport async function apiPut(path, body) {\n  const res = await fetch(BASE + path, {\n    method: \"PUT\",\n    headers: headers(true),\n    body: JSON.stringify(body)\n  });\n  return parseResponse(res);\n}\nexport async function apiDelete(path) {\n  const res = await fetch(BASE + path, {\n    method: \"DELETE\",\n    headers: headers(true)\n  });\n  return parseResponse(res);\n}\nasync function parseResponse(res) {\n  const text = await res.text();\n  const data = text ? JSON.parse(text) : {};\n  if (!res.ok) throw {\n    status: res.status,\n    data\n  };\n  return data;\n}","map":{"version":3,"names":["BASE","headers","json","h","token","localStorage","getItem","apiGet","path","res","fetch","parseResponse","apiPost","body","method","JSON","stringify","apiPut","apiDelete","text","data","parse","ok","status"],"sources":["C:/BITS/FSD/equipment-lending_front_app/core_ui/src/api.js"],"sourcesContent":["const BASE = \"http://localhost:18080/v1\";\r\n\r\nfunction headers(json = true) {\r\n  const h = {};\r\n  if (json) h[\"Content-Type\"] = \"application/json\";\r\n  const token = localStorage.getItem(\"token\");\r\n  if (token) h[\"Authorization\"] = `Bearer ${token}`;\r\n  return h;\r\n}\r\n\r\nexport async function apiGet(path){\r\n  const res = await fetch(BASE + path, { headers: headers(true) });\r\n  return parseResponse(res);\r\n}\r\n\r\nexport async function apiPost(path, body){\r\n  const res = await fetch(BASE + path, { method: \"POST\", headers: headers(true), body: JSON.stringify(body) });\r\n  return parseResponse(res);\r\n}\r\n\r\nexport async function apiPut(path, body){\r\n  const res = await fetch(BASE + path, { method: \"PUT\", headers: headers(true), body: JSON.stringify(body) });\r\n  return parseResponse(res);\r\n}\r\n\r\nexport async function apiDelete(path){\r\n  const res = await fetch(BASE + path, { method: \"DELETE\", headers: headers(true) });\r\n  return parseResponse(res);\r\n}\r\n\r\nasync function parseResponse(res){\r\n  const text = await res.text();\r\n  const data = text ? JSON.parse(text) : {};\r\n  if (!res.ok) throw { status: res.status, data };\r\n  return data;\r\n}\r\n"],"mappings":"AAAA,MAAMA,IAAI,GAAG,2BAA2B;AAExC,SAASC,OAAOA,CAACC,IAAI,GAAG,IAAI,EAAE;EAC5B,MAAMC,CAAC,GAAG,CAAC,CAAC;EACZ,IAAID,IAAI,EAAEC,CAAC,CAAC,cAAc,CAAC,GAAG,kBAAkB;EAChD,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAED,CAAC,CAAC,eAAe,CAAC,GAAG,UAAUC,KAAK,EAAE;EACjD,OAAOD,CAAC;AACV;AAEA,OAAO,eAAeI,MAAMA,CAACC,IAAI,EAAC;EAChC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACV,IAAI,GAAGQ,IAAI,EAAE;IAAEP,OAAO,EAAEA,OAAO,CAAC,IAAI;EAAE,CAAC,CAAC;EAChE,OAAOU,aAAa,CAACF,GAAG,CAAC;AAC3B;AAEA,OAAO,eAAeG,OAAOA,CAACJ,IAAI,EAAEK,IAAI,EAAC;EACvC,MAAMJ,GAAG,GAAG,MAAMC,KAAK,CAACV,IAAI,GAAGQ,IAAI,EAAE;IAAEM,MAAM,EAAE,MAAM;IAAEb,OAAO,EAAEA,OAAO,CAAC,IAAI,CAAC;IAAEY,IAAI,EAAEE,IAAI,CAACC,SAAS,CAACH,IAAI;EAAE,CAAC,CAAC;EAC5G,OAAOF,aAAa,CAACF,GAAG,CAAC;AAC3B;AAEA,OAAO,eAAeQ,MAAMA,CAACT,IAAI,EAAEK,IAAI,EAAC;EACtC,MAAMJ,GAAG,GAAG,MAAMC,KAAK,CAACV,IAAI,GAAGQ,IAAI,EAAE;IAAEM,MAAM,EAAE,KAAK;IAAEb,OAAO,EAAEA,OAAO,CAAC,IAAI,CAAC;IAAEY,IAAI,EAAEE,IAAI,CAACC,SAAS,CAACH,IAAI;EAAE,CAAC,CAAC;EAC3G,OAAOF,aAAa,CAACF,GAAG,CAAC;AAC3B;AAEA,OAAO,eAAeS,SAASA,CAACV,IAAI,EAAC;EACnC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACV,IAAI,GAAGQ,IAAI,EAAE;IAAEM,MAAM,EAAE,QAAQ;IAAEb,OAAO,EAAEA,OAAO,CAAC,IAAI;EAAE,CAAC,CAAC;EAClF,OAAOU,aAAa,CAACF,GAAG,CAAC;AAC3B;AAEA,eAAeE,aAAaA,CAACF,GAAG,EAAC;EAC/B,MAAMU,IAAI,GAAG,MAAMV,GAAG,CAACU,IAAI,CAAC,CAAC;EAC7B,MAAMC,IAAI,GAAGD,IAAI,GAAGJ,IAAI,CAACM,KAAK,CAACF,IAAI,CAAC,GAAG,CAAC,CAAC;EACzC,IAAI,CAACV,GAAG,CAACa,EAAE,EAAE,MAAM;IAAEC,MAAM,EAAEd,GAAG,CAACc,MAAM;IAAEH;EAAK,CAAC;EAC/C,OAAOA,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}